2025-04-26 05:11:30,573 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 05:11:34,069 - INFO - Raw input received: '4'
2025-04-26 05:11:34,070 - INFO - Valid choice selected: 4
2025-04-26 05:11:34,070 - INFO - Selected action: code_upgrade
2025-04-26 05:11:37,036 - INFO - Raw mode input received: '1'
2025-04-26 05:11:37,036 - INFO - Valid execution mode selected: 1
2025-04-26 05:11:37,036 - INFO - Executing action code_upgrade locally
2025-04-26 05:11:37,036 - INFO - Starting code_upgrade action
2025-04-26 05:11:37,038 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 05:11:38,814 - INFO - Raw vendor input received: '1'
2025-04-26 05:11:38,814 - INFO - Valid vendor choice selected: 1
2025-04-26 05:11:38,814 - INFO - Selected vendor: JUNIPER
2025-04-26 05:11:38,814 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 05:11:41,264 - INFO - Raw product input received: '3'
2025-04-26 05:11:41,264 - INFO - Valid product choice selected: 3
2025-04-26 05:11:41,264 - INFO - Selected product: SRX320
2025-04-26 05:11:44,207 - INFO - Raw release input received: '3'
2025-04-26 05:11:44,207 - INFO - Valid release choice selected: 24.2R1-S2
2025-04-26 05:11:44,207 - INFO - Selected release: 24.2R1-S2
2025-04-26 05:11:46,028 - INFO - User chose to read from file: n
2025-04-26 05:11:51,703 - INFO - Added host IP: 172.27.200.200
2025-04-26 05:11:53,027 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 05:11:53,027 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 05:11:57,974 - INFO - Received credentials - username: admin
2025-04-26 05:11:57,974 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 05:11:58,773 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:12:00,049 - INFO - Authentication (password) successful!
2025-04-26 05:12:00,106 - INFO - [host 172.27.200.200 session 0x7f42dee6d4f0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:12:04,125 - INFO - [host 172.27.200.200 session 0x7f42dee6d4f0] Received message from host
2025-04-26 05:12:04,125 - INFO - [host 172.27.200.200 session-id 22388] initialized: session-id=22388 | server_capabilities=<dict_keyiterator object at 0x7f42dcd8a020>
2025-04-26 05:12:04,125 - INFO - Connected to 172.27.200.200
2025-04-26 05:12:04,125 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 05:12:04,125 - INFO - Probing device 172.27.200.200
2025-04-26 05:12:04,942 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:12:05,762 - INFO - Authentication (password) successful!
2025-04-26 05:12:05,826 - INFO - [host 172.27.200.200 session 0x7f42dcd855e0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:12:09,951 - INFO - [host 172.27.200.200 session 0x7f42dcd855e0] Received message from host
2025-04-26 05:12:09,952 - INFO - [host 172.27.200.200 session-id 22400] initialized: session-id=22400 | server_capabilities=<dict_keyiterator object at 0x7f42dcd89530>
2025-04-26 05:12:09,952 - INFO - [host 172.27.200.200 session-id 22400] Requesting 'ExecuteRpc'
2025-04-26 05:12:10,052 - INFO - [host 172.27.200.200 session-id 22400] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:6e393ad5-63ee-42ac-b9fa-1a2cba74602b"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 05:12:10,982 - INFO - [host 172.27.200.200 session-id 22400] Received message from host
2025-04-26 05:12:10,983 - INFO - [host 172.27.200.200 session-id 22400] Requesting 'CloseSession'
2025-04-26 05:12:11,083 - INFO - [host 172.27.200.200 session-id 22400] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:bd688021-a37b-4d2b-b654-d8c035643538"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:12:11,239 - INFO - [host 172.27.200.200 session-id 22400] Received message from host
2025-04-26 05:12:11,240 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 05:12:11,976 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:12:13,247 - INFO - Authentication (password) successful!
2025-04-26 05:12:13,299 - INFO - [host 172.27.200.200 session 0x7f42dcf4eb40] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:12:17,479 - INFO - [host 172.27.200.200 session 0x7f42dcf4eb40] Received message from host
2025-04-26 05:12:17,479 - INFO - [host 172.27.200.200 session-id 22422] initialized: session-id=22422 | server_capabilities=<dict_keyiterator object at 0x7f42dcd8b0b0>
2025-04-26 05:12:17,479 - INFO - [host 172.27.200.200 session-id 22422] Requesting 'ExecuteRpc'
2025-04-26 05:12:17,579 - INFO - [host 172.27.200.200 session-id 22422] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:9a5d7538-50cf-43dd-9d90-8f49ad19434d"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 05:12:18,682 - INFO - [host 172.27.200.200 session-id 22422] Received message from host
2025-04-26 05:12:18,682 - INFO - Image /var/tmp/junos-srxsme-24.2R1-S2.5.tgz found on 172.27.200.200
2025-04-26 05:12:18,682 - INFO - [host 172.27.200.200 session-id 22422] Requesting 'CloseSession'
2025-04-26 05:12:18,782 - INFO - [host 172.27.200.200 session-id 22422] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:a62576f4-57fd-44ed-b5ec-394072ab81d7"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:12:18,939 - INFO - [host 172.27.200.200 session-id 22422] Received message from host
2025-04-26 05:12:19,769 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:12:20,799 - INFO - Authentication (password) successful!
2025-04-26 05:12:21,021 - INFO - [host 172.27.200.200 session 0x7f42dcd87170] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:12:25,127 - INFO - [host 172.27.200.200 session 0x7f42dcd87170] Received message from host
2025-04-26 05:12:25,128 - INFO - [host 172.27.200.200 session-id 22439] initialized: session-id=22439 | server_capabilities=<dict_keyiterator object at 0x7f42dcdad5d0>
2025-04-26 05:12:25,128 - INFO - [host 172.27.200.200 session-id 22439] Requesting 'ExecuteRpc'
2025-04-26 05:12:25,228 - INFO - [host 172.27.200.200 session-id 22439] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:668b43f0-ddfc-47c6-91e8-ffac958e03b0"><command format="text">request system software add /var/tmp/junos-srxsme-24.2R1-S2.5.tgz validate</command></nc:rpc>]]>]]>'
2025-04-26 05:17:25,129 - INFO - [host 172.27.200.200 session-id 22439] Requesting 'CloseSession'
2025-04-26 05:17:25,173 - INFO - [host 172.27.200.200 session-id 22439] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:5e0a86fc-4707-4ce6-8ae4-956fbb28fe9b"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:22:25,129 - ERROR - Close in context manager hit exception: RpcTimeoutError(host: 172.27.200.200, cmd: close, timeout: 300)
2025-04-26 05:22:25,129 - ERROR - Timeout checking pending install on 172.27.200.200: RpcTimeoutError(host: 172.27.200.200, cmd: command, timeout: 300)
2025-04-26 05:22:25,129 - ERROR - Skipping upgrade for 172.27.200.200 due to unresolved pending install
2025-04-26 05:22:25,129 - INFO - Disconnecting from 1 connections
2025-04-26 05:22:25,129 - INFO - Disconnected from 172.27.200.200
2025-04-26 05:22:25,129 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 05:22:25,129 - WARNING - Code upgrade process completed with failures
2025-04-26 05:49:53,622 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 05:49:56,147 - INFO - Raw input received: '4'
2025-04-26 05:49:56,147 - INFO - Valid choice selected: 4
2025-04-26 05:49:56,147 - INFO - Selected action: code_upgrade
2025-04-26 05:49:57,501 - INFO - Raw mode input received: '1'
2025-04-26 05:49:57,501 - INFO - Valid execution mode selected: 1
2025-04-26 05:49:57,501 - INFO - Executing action code_upgrade locally
2025-04-26 05:49:57,501 - INFO - Starting code_upgrade action
2025-04-26 05:49:57,502 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 05:49:59,524 - INFO - Raw vendor input received: '1'
2025-04-26 05:49:59,524 - INFO - Valid vendor choice selected: 1
2025-04-26 05:49:59,524 - INFO - Selected vendor: JUNIPER
2025-04-26 05:49:59,524 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 05:50:02,323 - INFO - Raw product input received: '4'
2025-04-26 05:50:02,324 - INFO - Valid product choice selected: 4
2025-04-26 05:50:02,324 - INFO - Selected product: SRX210H
2025-04-26 05:50:03,949 - INFO - Raw release input received: '1'
2025-04-26 05:50:03,950 - INFO - Valid release choice selected: 12.1X46-D86
2025-04-26 05:50:03,950 - INFO - Selected release: 12.1X46-D86
2025-04-26 05:50:05,632 - INFO - User chose to read from file: n
2025-04-26 05:50:11,556 - INFO - Added host IP: 172.27.200.201
2025-04-26 05:50:12,891 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.201']
2025-04-26 05:50:12,891 - INFO - Host IPs: ['172.27.200.201']
2025-04-26 05:50:17,780 - INFO - Received credentials - username: admin
2025-04-26 05:50:17,780 - INFO - Connecting to host 172.27.200.201 with username admin
2025-04-26 05:50:18,085 - INFO - Connected (version 2.0, client OpenSSH_6.9)
2025-04-26 05:50:18,809 - INFO - Authentication (password) successful!
2025-04-26 05:50:18,886 - INFO - [host 172.27.200.201 session 0x7f1516948590] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:50:25,835 - INFO - [host 172.27.200.201 session 0x7f1516948590] Received message from host
2025-04-26 05:50:25,835 - INFO - [host 172.27.200.201 session-id 2104] initialized: session-id=2104 | server_capabilities=<dict_keyiterator object at 0x7f1516631e90>
2025-04-26 05:50:25,835 - INFO - Connected to 172.27.200.201
2025-04-26 05:50:25,835 - INFO - Connected to devices: ['172.27.200.201']
2025-04-26 05:50:25,835 - INFO - Probing device 172.27.200.201
2025-04-26 05:50:26,111 - INFO - Connected (version 2.0, client OpenSSH_6.9)
2025-04-26 05:50:27,100 - INFO - Authentication (password) successful!
2025-04-26 05:50:27,169 - INFO - [host 172.27.200.201 session 0x7f15165c8bf0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:50:34,118 - INFO - [host 172.27.200.201 session 0x7f15165c8bf0] Received message from host
2025-04-26 05:50:34,118 - INFO - [host 172.27.200.201 session-id 2109] initialized: session-id=2109 | server_capabilities=<dict_keyiterator object at 0x7f15166322f0>
2025-04-26 05:50:34,119 - INFO - [host 172.27.200.201 session-id 2109] Requesting 'ExecuteRpc'
2025-04-26 05:50:34,218 - INFO - [host 172.27.200.201 session-id 2109] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:cb75815f-e06f-4a86-814b-e78170bf7ee3"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 05:50:35,769 - INFO - [host 172.27.200.201 session-id 2109] Received message from host
2025-04-26 05:50:35,770 - INFO - [host 172.27.200.201 session-id 2109] Requesting 'CloseSession'
2025-04-26 05:50:35,870 - INFO - [host 172.27.200.201 session-id 2109] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:6f531841-77ad-4edc-b829-f543c50c0a0c"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:50:36,024 - INFO - [host 172.27.200.201 session-id 2109] Received message from host
2025-04-26 05:50:36,025 - INFO - Device 172.27.200.201 is reachable and responsive
2025-04-26 05:50:36,297 - INFO - Connected (version 2.0, client OpenSSH_6.9)
2025-04-26 05:50:37,072 - INFO - Authentication (password) successful!
2025-04-26 05:50:37,140 - INFO - [host 172.27.200.201 session 0x7f15186fbfb0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:50:44,131 - INFO - [host 172.27.200.201 session 0x7f15186fbfb0] Received message from host
2025-04-26 05:50:44,131 - INFO - [host 172.27.200.201 session-id 2115] initialized: session-id=2115 | server_capabilities=<dict_keyiterator object at 0x7f15165e4400>
2025-04-26 05:50:44,131 - INFO - [host 172.27.200.201 session-id 2115] Requesting 'ExecuteRpc'
2025-04-26 05:50:44,231 - INFO - [host 172.27.200.201 session-id 2115] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:d6a587c9-633c-4278-bb45-5d2f9801baa9"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 05:50:45,958 - INFO - [host 172.27.200.201 session-id 2115] Received message from host
2025-04-26 05:50:45,958 - INFO - Current Junos version on 172.27.200.201: 12.1X46-D86
2025-04-26 05:50:45,958 - INFO - 172.27.200.201 already on target version 12.1X46-D86. Skipping upgrade.
2025-04-26 05:50:45,958 - INFO - [host 172.27.200.201 session-id 2115] Requesting 'CloseSession'
2025-04-26 05:50:46,058 - INFO - [host 172.27.200.201 session-id 2115] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:9908f71a-7fa0-45fb-b7dd-40fa7f115ccc"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:50:46,203 - INFO - [host 172.27.200.201 session-id 2115] Received message from host
2025-04-26 05:50:46,204 - INFO - Disconnecting from 1 connections
2025-04-26 05:50:46,204 - INFO - Disconnected from 172.27.200.201
2025-04-26 05:50:46,204 - INFO - Upgrade summary: 1 successful, 0 failed
2025-04-26 05:50:46,204 - INFO - Code upgrade process completed successfully
2025-04-26 05:56:31,421 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 05:56:34,126 - INFO - Raw input received: '4'
2025-04-26 05:56:34,126 - INFO - Valid choice selected: 4
2025-04-26 05:56:34,126 - INFO - Selected action: code_upgrade
2025-04-26 05:56:38,432 - INFO - Raw mode input received: '4'
2025-04-26 05:56:38,432 - ERROR - Invalid execution mode: 4
2025-04-26 05:56:43,823 - INFO - Raw mode input received: '1'
2025-04-26 05:56:43,824 - INFO - Valid execution mode selected: 1
2025-04-26 05:56:43,824 - INFO - Executing action code_upgrade locally
2025-04-26 05:56:43,824 - INFO - Starting code_upgrade action
2025-04-26 05:56:43,825 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 05:56:45,966 - INFO - Raw vendor input received: '1'
2025-04-26 05:56:45,966 - INFO - Valid vendor choice selected: 1
2025-04-26 05:56:45,966 - INFO - Selected vendor: JUNIPER
2025-04-26 05:56:45,966 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 05:56:51,133 - INFO - Raw product input received: '3'
2025-04-26 05:56:51,133 - INFO - Valid product choice selected: 3
2025-04-26 05:56:51,135 - INFO - Selected product: SRX320
2025-04-26 05:57:00,338 - INFO - Raw release input received: '1'
2025-04-26 05:57:00,338 - INFO - Valid release choice selected: 23.4R2-S3
2025-04-26 05:57:00,338 - INFO - Selected release: 23.4R2-S3
2025-04-26 05:57:02,871 - INFO - User chose to read from file: n
2025-04-26 05:57:07,131 - INFO - Added host IP: 172.27.200.200
2025-04-26 05:57:08,705 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 05:57:08,705 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 05:57:13,994 - INFO - Received credentials - username: admin
2025-04-26 05:57:13,995 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 05:57:14,795 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:57:15,820 - INFO - Authentication (password) successful!
2025-04-26 05:57:15,876 - INFO - [host 172.27.200.200 session 0x7f11b9bf4410] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:57:19,916 - INFO - [host 172.27.200.200 session 0x7f11b9bf4410] Received message from host
2025-04-26 05:57:19,916 - INFO - [host 172.27.200.200 session-id 2578] initialized: session-id=2578 | server_capabilities=<dict_keyiterator object at 0x7f11b99ae070>
2025-04-26 05:57:19,916 - INFO - Connected to 172.27.200.200
2025-04-26 05:57:19,916 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 05:57:19,916 - INFO - Probing device 172.27.200.200
2025-04-26 05:57:20,632 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:57:21,658 - INFO - Authentication (password) successful!
2025-04-26 05:57:21,711 - INFO - [host 172.27.200.200 session 0x7f11b99a8cb0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:57:25,959 - INFO - [host 172.27.200.200 session 0x7f11b99a8cb0] Received message from host
2025-04-26 05:57:25,959 - INFO - [host 172.27.200.200 session-id 2589] initialized: session-id=2589 | server_capabilities=<dict_keyiterator object at 0x7f11b99ad530>
2025-04-26 05:57:25,959 - INFO - [host 172.27.200.200 session-id 2589] Requesting 'ExecuteRpc'
2025-04-26 05:57:26,059 - INFO - [host 172.27.200.200 session-id 2589] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:5c84c0c5-04b6-4ec9-b93a-14eb3ad38237"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 05:57:27,186 - INFO - [host 172.27.200.200 session-id 2589] Received message from host
2025-04-26 05:57:27,187 - INFO - [host 172.27.200.200 session-id 2589] Requesting 'CloseSession'
2025-04-26 05:57:27,286 - INFO - [host 172.27.200.200 session-id 2589] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:32b260b3-d92f-40d9-a49b-cc8ef51d0567"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:57:27,298 - INFO - [host 172.27.200.200 session-id 2589] Received message from host
2025-04-26 05:57:27,299 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 05:57:28,086 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:57:28,891 - INFO - Authentication (password) successful!
2025-04-26 05:57:29,000 - INFO - [host 172.27.200.200 session 0x7f11ba18e030] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:57:32,937 - INFO - [host 172.27.200.200 session 0x7f11ba18e030] Received message from host
2025-04-26 05:57:32,937 - INFO - [host 172.27.200.200 session-id 2613] initialized: session-id=2613 | server_capabilities=<dict_keyiterator object at 0x7f11b99aeb60>
2025-04-26 05:57:32,937 - INFO - [host 172.27.200.200 session-id 2613] Requesting 'ExecuteRpc'
2025-04-26 05:57:33,037 - INFO - [host 172.27.200.200 session-id 2613] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:4ec129f6-678b-4404-b3db-e6c8547530a0"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 05:57:33,948 - INFO - [host 172.27.200.200 session-id 2613] Received message from host
2025-04-26 05:57:33,949 - INFO - Current Junos version on 172.27.200.200: 24.2R1-S2.5
2025-04-26 05:57:33,949 - INFO - [host 172.27.200.200 session-id 2613] Requesting 'CloseSession'
2025-04-26 05:57:34,049 - INFO - [host 172.27.200.200 session-id 2613] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:d97f3123-e8ce-421e-be78-e3962066c534"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:57:34,061 - INFO - [host 172.27.200.200 session-id 2613] Received message from host
2025-04-26 05:57:34,962 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:57:35,989 - INFO - Authentication (password) successful!
2025-04-26 05:57:36,040 - INFO - [host 172.27.200.200 session 0x7f11b99ab3b0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:57:40,083 - INFO - [host 172.27.200.200 session 0x7f11b99ab3b0] Received message from host
2025-04-26 05:57:40,084 - INFO - [host 172.27.200.200 session-id 2635] initialized: session-id=2635 | server_capabilities=<dict_keyiterator object at 0x7f11b99d5800>
2025-04-26 05:57:40,084 - INFO - [host 172.27.200.200 session-id 2635] Requesting 'ExecuteRpc'
2025-04-26 05:57:40,184 - INFO - [host 172.27.200.200 session-id 2635] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:c67ba1c9-9f0e-4c5b-9bba-983d7fb71f46"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 05:57:41,317 - INFO - [host 172.27.200.200 session-id 2635] Received message from host
2025-04-26 05:57:41,318 - INFO - Image /var/tmp/junos-srxsme-23.4R2-S3.9.tgz found on 172.27.200.200
2025-04-26 05:57:41,318 - INFO - [host 172.27.200.200 session-id 2635] Requesting 'CloseSession'
2025-04-26 05:57:41,418 - INFO - [host 172.27.200.200 session-id 2635] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:fc5cd5d9-82d1-41b3-9f6c-2ef58a7a1df0"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 05:57:41,431 - INFO - [host 172.27.200.200 session-id 2635] Received message from host
2025-04-26 05:57:42,340 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 05:57:43,467 - INFO - Authentication (password) successful!
2025-04-26 05:57:43,546 - INFO - [host 172.27.200.200 session 0x7f11b99e60f0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 05:57:47,781 - INFO - [host 172.27.200.200 session 0x7f11b99e60f0] Received message from host
2025-04-26 05:57:47,781 - INFO - [host 172.27.200.200 session-id 2652] initialized: session-id=2652 | server_capabilities=<dict_keyiterator object at 0x7f11b99aed40>
2025-04-26 05:57:47,781 - INFO - [host 172.27.200.200 session-id 2652] Requesting 'ExecuteRpc'
2025-04-26 05:57:47,881 - INFO - [host 172.27.200.200 session-id 2652] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:45787c90-8b8e-430d-929f-935069e390a1"><command format="text">request system software add /var/tmp/junos-srxsme-23.4R2-S3.9.tgz validate</command></nc:rpc>]]>]]>'
2025-04-26 06:02:47,782 - INFO - [host 172.27.200.200 session-id 2652] Requesting 'CloseSession'
2025-04-26 06:02:47,845 - INFO - [host 172.27.200.200 session-id 2652] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:196244ce-3ae3-450a-997d-3f5553ff02bd"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:07:47,782 - ERROR - Close in context manager hit exception: RpcTimeoutError(host: 172.27.200.200, cmd: close, timeout: 300)
2025-04-26 06:07:47,782 - WARNING - Timeout checking pending install on 172.27.200.200: RpcTimeoutError(host: 172.27.200.200, cmd: command, timeout: 300). Retrying once...
2025-04-26 06:07:59,524 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:08:01,837 - INFO - Authentication (password) successful!
2025-04-26 06:08:02,086 - INFO - [host 172.27.200.200 session 0x7f11b99aa450] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:08:19,016 - INFO - [host 172.27.200.200 session 0x7f11b99aa450] Received message from host
2025-04-26 06:08:19,017 - INFO - [host 172.27.200.200 session-id 3801] initialized: session-id=3801 | server_capabilities=<dict_keyiterator object at 0x7f11b99ac720>
2025-04-26 06:08:19,017 - INFO - [host 172.27.200.200 session-id 3801] Requesting 'ExecuteRpc'
2025-04-26 06:08:19,117 - INFO - [host 172.27.200.200 session-id 3801] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:978b53aa-b5c4-448b-8e52-f288552ed87c"><command format="text">request system software add /var/tmp/junos-srxsme-23.4R2-S3.9.tgz validate</command></nc:rpc>]]>]]>'
2025-04-26 06:08:21,000 - INFO - [host 172.27.200.200 session-id 3801] Received message from host
2025-04-26 06:08:21,001 - ERROR - Pending install detected on 172.27.200.200
2025-04-26 06:17:18,275 - INFO - Code upgrade interrupted by user (Ctrl+C)
2025-04-26 06:17:28,826 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 06:17:30,797 - INFO - Raw input received: '4'
2025-04-26 06:17:30,797 - INFO - Valid choice selected: 4
2025-04-26 06:17:30,797 - INFO - Selected action: code_upgrade
2025-04-26 06:17:46,042 - INFO - Raw mode input received: '1'
2025-04-26 06:17:46,042 - INFO - Valid execution mode selected: 1
2025-04-26 06:17:46,042 - INFO - Executing action code_upgrade locally
2025-04-26 06:17:46,042 - INFO - Starting code_upgrade action
2025-04-26 06:17:46,044 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 06:17:47,312 - INFO - Raw vendor input received: '1'
2025-04-26 06:17:47,312 - INFO - Valid vendor choice selected: 1
2025-04-26 06:17:47,312 - INFO - Selected vendor: JUNIPER
2025-04-26 06:17:47,312 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 06:17:50,130 - INFO - Raw product input received: '3'
2025-04-26 06:17:50,130 - INFO - Valid product choice selected: 3
2025-04-26 06:17:50,130 - INFO - Selected product: SRX320
2025-04-26 06:17:54,846 - INFO - Raw release input received: '1'
2025-04-26 06:17:54,846 - INFO - Valid release choice selected: 23.4R2-S3
2025-04-26 06:17:54,846 - INFO - Selected release: 23.4R2-S3
2025-04-26 06:17:56,790 - INFO - User chose to read from file: n
2025-04-26 06:18:03,908 - INFO - Added host IP: 172.27.200.200
2025-04-26 06:18:04,929 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 06:18:04,929 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 06:18:09,241 - INFO - Received credentials - username: admin
2025-04-26 06:18:09,241 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 06:18:10,073 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:18:10,995 - INFO - Authentication (password) successful!
2025-04-26 06:18:11,085 - INFO - [host 172.27.200.200 session 0x7f0cf5fdcf80] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:18:15,194 - INFO - [host 172.27.200.200 session 0x7f0cf5fdcf80] Received message from host
2025-04-26 06:18:15,194 - INFO - [host 172.27.200.200 session-id 2463] initialized: session-id=2463 | server_capabilities=<dict_keyiterator object at 0x7f0cf597a070>
2025-04-26 06:18:15,194 - INFO - Connected to 172.27.200.200
2025-04-26 06:18:15,194 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 06:18:15,194 - INFO - Probing device 172.27.200.200
2025-04-26 06:18:15,910 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:18:16,934 - INFO - Authentication (password) successful!
2025-04-26 06:18:16,985 - INFO - [host 172.27.200.200 session 0x7f0cf5914110] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:18:21,216 - INFO - [host 172.27.200.200 session 0x7f0cf5914110] Received message from host
2025-04-26 06:18:21,217 - INFO - [host 172.27.200.200 session-id 2475] initialized: session-id=2475 | server_capabilities=<dict_keyiterator object at 0x7f0cf59795d0>
2025-04-26 06:18:21,222 - INFO - [host 172.27.200.200 session-id 2475] Requesting 'ExecuteRpc'
2025-04-26 06:18:21,317 - INFO - [host 172.27.200.200 session-id 2475] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:e9a73266-6f41-4420-888d-f9eea04f05e6"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 06:18:22,464 - INFO - [host 172.27.200.200 session-id 2475] Received message from host
2025-04-26 06:18:22,465 - INFO - [host 172.27.200.200 session-id 2475] Requesting 'CloseSession'
2025-04-26 06:18:22,565 - INFO - [host 172.27.200.200 session-id 2475] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:fe282363-2358-4acd-8484-066c382f5411"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:18:22,576 - INFO - [host 172.27.200.200 session-id 2475] Received message from host
2025-04-26 06:18:22,577 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 06:18:23,397 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:18:24,410 - INFO - Authentication (password) successful!
2025-04-26 06:18:24,471 - INFO - [host 172.27.200.200 session 0x7f0cf5b9f1a0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:18:28,817 - INFO - [host 172.27.200.200 session 0x7f0cf5b9f1a0] Received message from host
2025-04-26 06:18:28,817 - INFO - [host 172.27.200.200 session-id 2497] initialized: session-id=2497 | server_capabilities=<dict_keyiterator object at 0x7f0cf597ab60>
2025-04-26 06:18:28,817 - INFO - [host 172.27.200.200 session-id 2497] Requesting 'ExecuteRpc'
2025-04-26 06:18:28,917 - INFO - [host 172.27.200.200 session-id 2497] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:d4b7705a-6ce4-45b2-9717-a7baa059d419"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 06:18:29,940 - INFO - [host 172.27.200.200 session-id 2497] Received message from host
2025-04-26 06:18:29,940 - INFO - Current Junos version on 172.27.200.200: 24.2R1-S2.5
2025-04-26 06:18:29,940 - WARNING - Selected version 23.4R2-S3 is older than current 24.2R1-S2.5 on 172.27.200.200
2025-04-26 06:18:43,221 - INFO - [host 172.27.200.200 session-id 2497] Requesting 'CloseSession'
2025-04-26 06:18:43,282 - INFO - [host 172.27.200.200 session-id 2497] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:38344201-d7ab-401d-a9b0-36e827e2d900"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:18:43,326 - INFO - [host 172.27.200.200 session-id 2497] Received message from host
2025-04-26 06:18:44,070 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:18:44,890 - INFO - Authentication (password) successful!
2025-04-26 06:18:44,944 - INFO - [host 172.27.200.200 session 0x7f0cf5af6330] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:18:49,089 - INFO - [host 172.27.200.200 session 0x7f0cf5af6330] Received message from host
2025-04-26 06:18:49,089 - INFO - [host 172.27.200.200 session-id 2527] initialized: session-id=2527 | server_capabilities=<dict_keyiterator object at 0x7f0cf5935800>
2025-04-26 06:18:49,089 - INFO - [host 172.27.200.200 session-id 2527] Requesting 'ExecuteRpc'
2025-04-26 06:18:49,189 - INFO - [host 172.27.200.200 session-id 2527] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:d6622558-824b-4a90-9fd0-eff6a8a1b430"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 06:18:50,245 - INFO - [host 172.27.200.200 session-id 2527] Received message from host
2025-04-26 06:18:50,245 - INFO - Image /var/tmp/junos-srxsme-23.4R2-S3.9.tgz found on 172.27.200.200
2025-04-26 06:18:50,245 - INFO - [host 172.27.200.200 session-id 2527] Requesting 'CloseSession'
2025-04-26 06:18:50,345 - INFO - [host 172.27.200.200 session-id 2527] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:8020f589-ec41-4fcd-bad5-7918af1a3c6d"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:18:50,358 - INFO - [host 172.27.200.200 session-id 2527] Received message from host
2025-04-26 06:18:51,238 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:18:52,160 - INFO - Authentication (password) successful!
2025-04-26 06:18:52,209 - INFO - [host 172.27.200.200 session 0x7f0cf59421e0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:18:56,256 - INFO - [host 172.27.200.200 session 0x7f0cf59421e0] Received message from host
2025-04-26 06:18:56,257 - INFO - [host 172.27.200.200 session-id 2545] initialized: session-id=2545 | server_capabilities=<dict_keyiterator object at 0x7f0cf597aa70>
2025-04-26 06:18:56,257 - INFO - [host 172.27.200.200 session-id 2545] Requesting 'ExecuteRpc'
2025-04-26 06:18:56,357 - INFO - [host 172.27.200.200 session-id 2545] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:7b0548dd-7771-4e56-aedf-2a337098795c"><command format="text">show system software information</command></nc:rpc>]]>]]>'
2025-04-26 06:18:56,378 - INFO - [host 172.27.200.200 session-id 2545] Received message from host
2025-04-26 06:18:56,378 - INFO - [host 172.27.200.200 session-id 2545] Requesting 'CloseSession'
2025-04-26 06:18:56,478 - INFO - [host 172.27.200.200 session-id 2545] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:3e36bb87-b7a4-41ba-9813-004df87651cd"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:18:56,491 - INFO - [host 172.27.200.200 session-id 2545] Received message from host
2025-04-26 06:18:56,491 - WARNING - Could not check pending install on 172.27.200.200: RpcError(severity: error, bad_element: information, message: syntax error, expecting <command>). Proceeding with caution.
2025-04-26 06:18:56,492 - ERROR - TypeError during software upgrade on 172.27.200.200: argument of type 'NoneType' is not iterable
2025-04-26 06:18:56,492 - ERROR - CLI upgrade failed on 172.27.200.200: _Connection.cli() got an unexpected keyword argument 'timeout'
2025-04-26 06:18:56,492 - INFO - Disconnecting from 1 connections
2025-04-26 06:18:56,492 - INFO - Disconnected from 172.27.200.200
2025-04-26 06:18:56,492 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 06:18:56,492 - WARNING - Code upgrade process completed with failures
2025-04-26 06:42:07,586 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 06:42:09,509 - INFO - Raw input received: '4'
2025-04-26 06:42:09,510 - INFO - Valid choice selected: 4
2025-04-26 06:42:09,510 - INFO - Selected action: code_upgrade
2025-04-26 06:42:11,249 - INFO - Raw mode input received: '1'
2025-04-26 06:42:11,249 - INFO - Valid execution mode selected: 1
2025-04-26 06:42:11,249 - INFO - Executing action code_upgrade locally
2025-04-26 06:42:11,249 - INFO - Starting code_upgrade action
2025-04-26 06:42:11,251 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 06:42:12,606 - INFO - Raw vendor input received: '1'
2025-04-26 06:42:12,606 - INFO - Valid vendor choice selected: 1
2025-04-26 06:42:12,606 - INFO - Selected vendor: JUNIPER
2025-04-26 06:42:12,607 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 06:42:14,631 - INFO - Raw product input received: '3'
2025-04-26 06:42:14,632 - INFO - Valid product choice selected: 3
2025-04-26 06:42:14,632 - INFO - Selected product: SRX320
2025-04-26 06:42:17,540 - INFO - Raw release input received: '1'
2025-04-26 06:42:17,540 - INFO - Valid release choice selected: 23.4R2-S3
2025-04-26 06:42:17,540 - INFO - Selected release: 23.4R2-S3
2025-04-26 06:42:19,573 - INFO - User chose to read from file: n
2025-04-26 06:42:25,222 - INFO - Added host IP: 172.27.200.200
2025-04-26 06:42:26,106 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 06:42:26,106 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 06:42:31,634 - INFO - Received credentials - username: admin
2025-04-26 06:42:31,634 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 06:42:32,319 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:42:33,343 - INFO - Authentication (password) successful!
2025-04-26 06:42:33,479 - INFO - [host 172.27.200.200 session 0x7f87564c3a70] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:42:38,566 - INFO - [host 172.27.200.200 session 0x7f87564c3a70] Received message from host
2025-04-26 06:42:38,566 - INFO - [host 172.27.200.200 session-id 4165] initialized: session-id=4165 | server_capabilities=<dict_keyiterator object at 0x7f875638e2f0>
2025-04-26 06:42:38,566 - INFO - Connected to 172.27.200.200
2025-04-26 06:42:38,566 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 06:42:38,566 - INFO - Probing device 172.27.200.200
2025-04-26 06:42:39,345 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:42:40,203 - INFO - Authentication (password) successful!
2025-04-26 06:42:40,256 - INFO - [host 172.27.200.200 session 0x7f87562ee0c0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:42:44,514 - INFO - [host 172.27.200.200 session 0x7f87562ee0c0] Received message from host
2025-04-26 06:42:44,515 - INFO - [host 172.27.200.200 session-id 4176] initialized: session-id=4176 | server_capabilities=<dict_keyiterator object at 0x7f875638d710>
2025-04-26 06:42:44,515 - INFO - [host 172.27.200.200 session-id 4176] Requesting 'ExecuteRpc'
2025-04-26 06:42:44,615 - INFO - [host 172.27.200.200 session-id 4176] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:9221def3-3ef3-4108-8ea5-41f2aac1d666"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 06:42:45,630 - INFO - [host 172.27.200.200 session-id 4176] Received message from host
2025-04-26 06:42:45,631 - INFO - [host 172.27.200.200 session-id 4176] Requesting 'CloseSession'
2025-04-26 06:42:45,731 - INFO - [host 172.27.200.200 session-id 4176] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:0f2df5c0-1f34-4822-bf4f-da1f6794945d"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:42:45,743 - INFO - [host 172.27.200.200 session-id 4176] Received message from host
2025-04-26 06:42:45,744 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 06:42:46,654 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:42:47,575 - INFO - Authentication (password) successful!
2025-04-26 06:42:47,693 - INFO - [host 172.27.200.200 session 0x7f8756b398b0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:42:51,877 - INFO - [host 172.27.200.200 session 0x7f8756b398b0] Received message from host
2025-04-26 06:42:51,877 - INFO - [host 172.27.200.200 session-id 4201] initialized: session-id=4201 | server_capabilities=<dict_keyiterator object at 0x7f875633c900>
2025-04-26 06:42:51,877 - INFO - [host 172.27.200.200 session-id 4201] Requesting 'ExecuteRpc'
2025-04-26 06:42:51,977 - INFO - [host 172.27.200.200 session-id 4201] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:905b06ac-17c9-473c-927d-16d41ba6ccb3"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 06:42:52,997 - INFO - [host 172.27.200.200 session-id 4201] Received message from host
2025-04-26 06:42:52,998 - INFO - Current Junos version on 172.27.200.200: 24.2R1-S2.5
2025-04-26 06:42:52,998 - WARNING - Selected version 23.4R2-S3 is older than current 24.2R1-S2.5 on 172.27.200.200
2025-04-26 06:42:56,818 - INFO - [host 172.27.200.200 session-id 4201] Requesting 'CloseSession'
2025-04-26 06:42:56,910 - INFO - [host 172.27.200.200 session-id 4201] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:f1ff7b2b-2ccf-4978-85e0-db5ce103753e"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:42:56,933 - INFO - [host 172.27.200.200 session-id 4201] Received message from host
2025-04-26 06:42:57,815 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:42:58,737 - INFO - Authentication (password) successful!
2025-04-26 06:42:58,793 - INFO - [host 172.27.200.200 session 0x7f875634c710] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:43:03,038 - INFO - [host 172.27.200.200 session 0x7f875634c710] Received message from host
2025-04-26 06:43:03,038 - INFO - [host 172.27.200.200 session-id 4225] initialized: session-id=4225 | server_capabilities=<dict_keyiterator object at 0x7f875633da80>
2025-04-26 06:43:03,039 - INFO - [host 172.27.200.200 session-id 4225] Requesting 'ExecuteRpc'
2025-04-26 06:43:03,139 - INFO - [host 172.27.200.200 session-id 4225] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:47cc8401-45ea-45d4-94f9-0eaa3180b04f"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 06:43:04,183 - INFO - [host 172.27.200.200 session-id 4225] Received message from host
2025-04-26 06:43:04,184 - INFO - Image /var/tmp/junos-srxsme-23.4R2-S3.9.tgz found on 172.27.200.200
2025-04-26 06:43:04,184 - INFO - [host 172.27.200.200 session-id 4225] Requesting 'CloseSession'
2025-04-26 06:43:04,284 - INFO - [host 172.27.200.200 session-id 4225] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:6964cc3c-9e2e-4fff-afbe-bf14e2eb82c0"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:43:04,299 - INFO - [host 172.27.200.200 session-id 4225] Received message from host
2025-04-26 06:43:05,086 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 06:43:05,904 - INFO - Authentication (password) successful!
2025-04-26 06:43:06,008 - INFO - [host 172.27.200.200 session 0x7f875634e7b0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 06:43:10,001 - INFO - [host 172.27.200.200 session 0x7f875634e7b0] Received message from host
2025-04-26 06:43:10,002 - INFO - [host 172.27.200.200 session-id 4239] initialized: session-id=4239 | server_capabilities=<dict_keyiterator object at 0x7f875638efc0>
2025-04-26 06:43:10,002 - INFO - [host 172.27.200.200 session-id 4239] Requesting 'ExecuteRpc'
2025-04-26 06:43:10,102 - INFO - [host 172.27.200.200 session-id 4239] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:7469412b-79fe-401e-b58d-e0f3e57ed690"><command format="text">show system processes | match package</command></nc:rpc>]]>]]>'
2025-04-26 06:43:12,114 - INFO - [host 172.27.200.200 session-id 4239] Received message from host
2025-04-26 06:43:12,115 - INFO - [host 172.27.200.200 session-id 4239] Requesting 'CloseSession'
2025-04-26 06:43:12,215 - INFO - [host 172.27.200.200 session-id 4239] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:3d2fff31-21d0-4f09-a51d-faf94a086e73"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 06:43:12,228 - INFO - [host 172.27.200.200 session-id 4239] Received message from host
2025-04-26 06:43:12,228 - ERROR - TypeError during software upgrade on 172.27.200.200: argument of type 'NoneType' is not iterable. Falling back to CLI method...
2025-04-26 06:43:12,229 - ERROR - CLI upgrade failed on 172.27.200.200: ConnectClosedError(172.27.200.200)
2025-04-26 06:43:12,229 - INFO - Disconnecting from 1 connections
2025-04-26 06:43:12,229 - INFO - Disconnected from 172.27.200.200
2025-04-26 06:43:12,229 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 06:43:12,229 - WARNING - Code upgrade process completed with failures
2025-04-26 09:02:15,492 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/usr/lib/python313.zip', '/usr/lib/python3.13', '/usr/lib/python3.13/lib-dynload', '/usr/lib/python3.13/site-packages']
2025-04-26 09:02:15,687 - ERROR - Import error: No module named 'telnetlib'
2025-04-26 09:09:29,799 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/usr/lib/python313.zip', '/usr/lib/python3.13', '/usr/lib/python3.13/lib-dynload', '/usr/lib/python3.13/site-packages']
2025-04-26 09:09:33,082 - INFO - Raw input received: '4'
2025-04-26 09:09:33,083 - INFO - Valid choice selected: 4
2025-04-26 09:09:33,083 - INFO - Selected action: code_upgrade
2025-04-26 09:09:38,509 - INFO - Raw mode input received: '1'
2025-04-26 09:09:38,509 - INFO - Valid execution mode selected: 1
2025-04-26 09:09:38,509 - INFO - Executing action code_upgrade locally
2025-04-26 09:09:38,509 - INFO - Starting code_upgrade action
2025-04-26 09:09:38,514 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 09:09:40,051 - INFO - Raw vendor input received: '1'
2025-04-26 09:09:40,051 - INFO - Valid vendor choice selected: 1
2025-04-26 09:09:40,051 - INFO - Selected vendor: JUNIPER
2025-04-26 09:09:40,051 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 09:09:42,388 - INFO - Raw product input received: '3'
2025-04-26 09:09:42,388 - INFO - Valid product choice selected: 3
2025-04-26 09:09:42,388 - INFO - Selected product: SRX320
2025-04-26 09:09:45,158 - INFO - Raw release input received: '1'
2025-04-26 09:09:45,158 - INFO - Valid release choice selected: 23.4R2-S3
2025-04-26 09:09:45,158 - INFO - Selected release: 23.4R2-S3
2025-04-26 09:09:47,215 - INFO - User chose to read from file: n
2025-04-26 09:09:56,977 - INFO - Added host IP: 172.27.200.200
2025-04-26 09:09:57,802 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 09:09:57,802 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 09:10:04,246 - INFO - Received credentials - username: admin
2025-04-26 09:10:04,246 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 09:10:05,362 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:06,386 - INFO - Authentication (password) successful!
2025-04-26 09:10:06,600 - INFO - [host 172.27.200.200 session 0x799247bf4d70] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:10:10,597 - INFO - [host 172.27.200.200 session 0x799247bf4d70] Received message from host
2025-04-26 09:10:10,598 - INFO - [host 172.27.200.200 session-id 7139] initialized: session-id=7139 | server_capabilities=<dict_keyiterator object at 0x799247bf9bc0>
2025-04-26 09:10:10,598 - INFO - Connected to 172.27.200.200
2025-04-26 09:10:10,598 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 09:10:10,598 - INFO - Probing device 172.27.200.200
2025-04-26 09:10:11,404 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:12,223 - INFO - Authentication (password) successful!
2025-04-26 09:10:12,411 - INFO - [host 172.27.200.200 session 0x799247b9b110] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:10:16,424 - INFO - [host 172.27.200.200 session 0x799247b9b110] Received message from host
2025-04-26 09:10:16,424 - INFO - [host 172.27.200.200 session-id 7150] initialized: session-id=7150 | server_capabilities=<dict_keyiterator object at 0x799247bfa020>
2025-04-26 09:10:16,424 - INFO - [host 172.27.200.200 session-id 7150] Requesting 'ExecuteRpc'
2025-04-26 09:10:16,524 - INFO - [host 172.27.200.200 session-id 7150] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:1c5bba57-9671-4c93-a6aa-102ccb362c3b"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 09:10:17,652 - INFO - [host 172.27.200.200 session-id 7150] Received message from host
2025-04-26 09:10:17,653 - INFO - [host 172.27.200.200 session-id 7150] Requesting 'CloseSession'
2025-04-26 09:10:17,753 - INFO - [host 172.27.200.200 session-id 7150] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:8df85e98-6acc-4db5-9e79-5205ba1a6788"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:10:17,784 - INFO - [host 172.27.200.200 session-id 7150] Received message from host
2025-04-26 09:10:17,785 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 09:10:17,785 - INFO - Checking health of 172.27.200.200
2025-04-26 09:10:18,573 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:19,596 - INFO - Authentication (password) successful!
2025-04-26 09:10:19,760 - INFO - [host 172.27.200.200 session 0x799247a41090] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:10:23,828 - INFO - [host 172.27.200.200 session 0x799247a41090] Received message from host
2025-04-26 09:10:23,829 - INFO - [host 172.27.200.200 session-id 7171] initialized: session-id=7171 | server_capabilities=<dict_keyiterator object at 0x799247bfbfb0>
2025-04-26 09:10:23,829 - INFO - [host 172.27.200.200 session-id 7171] Requesting 'ExecuteRpc'
2025-04-26 09:10:23,929 - INFO - [host 172.27.200.200 session-id 7171] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:8dfe9311-df77-498a-8056-0e576886db5b"><command format="text">show system processes extensive | match "PID|%CPU|%MEM"</command></nc:rpc>]]>]]>'
2025-04-26 09:10:25,955 - INFO - [host 172.27.200.200 session-id 7171] Received message from host
2025-04-26 09:10:25,956 - WARNING - Could not parse resource usage on 172.27.200.200
2025-04-26 09:10:25,956 - INFO - [host 172.27.200.200 session-id 7171] Requesting 'CloseSession'
2025-04-26 09:10:26,055 - INFO - [host 172.27.200.200 session-id 7171] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:784b12e2-e73a-4667-8134-b48d5485bb17"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:10:26,065 - INFO - [host 172.27.200.200 session-id 7171] Received message from host
2025-04-26 09:10:26,867 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:27,892 - INFO - Authentication (password) successful!
2025-04-26 09:10:28,058 - INFO - [host 172.27.200.200 session 0x799247a42350] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:10:32,298 - INFO - [host 172.27.200.200 session 0x799247a42350] Received message from host
2025-04-26 09:10:32,298 - INFO - [host 172.27.200.200 session-id 7188] initialized: session-id=7188 | server_capabilities=<dict_keyiterator object at 0x799247a392b0>
2025-04-26 09:10:32,298 - INFO - [host 172.27.200.200 session-id 7188] Requesting 'ExecuteRpc'
2025-04-26 09:10:32,398 - INFO - [host 172.27.200.200 session-id 7188] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:fa1ad23e-ba79-4c19-8a68-4d419f9eb7b5"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 09:10:33,426 - INFO - [host 172.27.200.200 session-id 7188] Received message from host
2025-04-26 09:10:33,427 - INFO - Current Junos version on 172.27.200.200: 24.2R1-S2.5
2025-04-26 09:10:33,427 - WARNING - Selected version 23.4R2-S3 is older than current 24.2R1-S2.5 on 172.27.200.200
2025-04-26 09:10:48,359 - INFO - [host 172.27.200.200 session-id 7188] Requesting 'CloseSession'
2025-04-26 09:10:48,388 - INFO - [host 172.27.200.200 session-id 7188] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:4a2146fc-34ba-48c1-9d40-e84f7a7a185d"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:10:48,429 - INFO - [host 172.27.200.200 session-id 7188] Received message from host
2025-04-26 09:10:49,293 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:50,536 - INFO - Authentication (password) successful!
2025-04-26 09:10:50,695 - INFO - [host 172.27.200.200 session 0x799247a41a90] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:10:54,651 - INFO - [host 172.27.200.200 session 0x799247a41a90] Received message from host
2025-04-26 09:10:54,651 - INFO - [host 172.27.200.200 session-id 7228] initialized: session-id=7228 | server_capabilities=<dict_keyiterator object at 0x799247a3a7a0>
2025-04-26 09:10:54,651 - INFO - [host 172.27.200.200 session-id 7228] Requesting 'ExecuteRpc'
2025-04-26 09:10:54,751 - INFO - [host 172.27.200.200 session-id 7228] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:1acf7830-bd91-4e38-9b36-31551d96c883"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 09:10:55,878 - INFO - [host 172.27.200.200 session-id 7228] Received message from host
2025-04-26 09:10:55,879 - INFO - Image /var/tmp/junos-srxsme-23.4R2-S3.9.tgz found on 172.27.200.200
2025-04-26 09:10:55,879 - INFO - [host 172.27.200.200 session-id 7228] Requesting 'CloseSession'
2025-04-26 09:10:55,979 - INFO - [host 172.27.200.200 session-id 7228] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:b235a9ba-a15e-4c50-af4b-f77e777f07b4"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:10:55,989 - INFO - [host 172.27.200.200 session-id 7228] Received message from host
2025-04-26 09:10:56,870 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:10:57,894 - INFO - Authentication (password) successful!
2025-04-26 09:10:58,095 - INFO - [host 172.27.200.200 session 0x799247a42ad0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:11:02,504 - INFO - [host 172.27.200.200 session 0x799247a42ad0] Received message from host
2025-04-26 09:11:02,505 - INFO - [host 172.27.200.200 session-id 7243] initialized: session-id=7243 | server_capabilities=<dict_keyiterator object at 0x799247a3bdd0>
2025-04-26 09:11:02,505 - INFO - [host 172.27.200.200 session-id 7243] Requesting 'ExecuteRpc'
2025-04-26 09:11:02,605 - INFO - [host 172.27.200.200 session-id 7243] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:2edd45ad-64a1-4fe5-b5b6-3b8402a8d3c4"><command format="text">show system processes | match package</command></nc:rpc>]]>]]>'
2025-04-26 09:11:04,594 - INFO - [host 172.27.200.200 session-id 7243] Received message from host
2025-04-26 09:11:04,595 - INFO - [host 172.27.200.200 session-id 7243] Requesting 'CloseSession'
2025-04-26 09:11:04,694 - INFO - [host 172.27.200.200 session-id 7243] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:c0c8b4fc-0409-44c1-9677-f68993c5b579"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:11:04,705 - INFO - [host 172.27.200.200 session-id 7243] Received message from host
2025-04-26 09:11:04,706 - ERROR - TypeError during software upgrade on 172.27.200.200: argument of type 'NoneType' is not iterable. Falling back to CLI method...
2025-04-26 09:11:04,706 - WARNING - ConnectClosedError on attempt 1/3 for 172.27.200.200: ConnectClosedError(172.27.200.200)
2025-04-26 09:11:35,593 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 09:11:36,602 - INFO - Authentication (password) successful!
2025-04-26 09:11:36,780 - INFO - [host 172.27.200.200 session 0x799247a42fd0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 09:11:40,911 - INFO - [host 172.27.200.200 session 0x799247a42fd0] Received message from host
2025-04-26 09:11:40,912 - INFO - [host 172.27.200.200 session-id 7278] initialized: session-id=7278 | server_capabilities=<dict_keyiterator object at 0x799247a21300>
2025-04-26 09:11:40,912 - INFO - [host 172.27.200.200 session-id 7278] Requesting 'ExecuteRpc'
2025-04-26 09:11:41,012 - INFO - [host 172.27.200.200 session-id 7278] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:f7343dc6-ae12-48a6-a2a6-8d9080ea1abc"><command format="text">request system software add /var/tmp/junos-srxsme-23.4R2-S3.9.tgz no-validate</command></nc:rpc>]]>]]>'
2025-04-26 09:12:10,913 - ERROR - CLI upgrade failed on 172.27.200.200: RpcTimeoutError(host: 172.27.200.200, cmd: command, timeout: 30)
2025-04-26 09:12:10,913 - ERROR - CLI upgrade failed on 172.27.200.200: RpcTimeoutError(host: 172.27.200.200, cmd: command, timeout: 30)
2025-04-26 09:12:10,913 - INFO - Disconnecting from 1 connections
2025-04-26 09:12:10,913 - INFO - [host 172.27.200.200 session-id 7278] Requesting 'CloseSession'
2025-04-26 09:12:10,960 - INFO - [host 172.27.200.200 session-id 7278] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:316bbe12-af29-4acd-a213-d7d20cea2834"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 09:12:40,914 - ERROR - Failed to disconnect from 172.27.200.200: RpcTimeoutError(host: 172.27.200.200, cmd: close, timeout: 30)
2025-04-26 09:12:40,914 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 09:12:40,914 - WARNING - Code upgrade process completed with failures
2025-04-26 10:40:20,136 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 10:40:22,240 - INFO - Raw input received: '4'
2025-04-26 10:40:22,240 - INFO - Valid choice selected: 4
2025-04-26 10:40:22,240 - INFO - Selected action: code_upgrade
2025-04-26 10:40:23,774 - INFO - Raw mode input received: '1'
2025-04-26 10:40:23,774 - INFO - Valid execution mode selected: 1
2025-04-26 10:40:23,774 - INFO - Executing action code_upgrade locally
2025-04-26 10:40:23,774 - INFO - Starting code_upgrade action
2025-04-26 10:40:23,776 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 10:40:25,847 - INFO - Raw vendor input received: '1'
2025-04-26 10:40:25,847 - INFO - Valid vendor choice selected: 1
2025-04-26 10:40:25,847 - INFO - Selected vendor: JUNIPER
2025-04-26 10:40:25,847 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 10:40:28,559 - INFO - Raw product input received: '3'
2025-04-26 10:40:28,559 - INFO - Valid product choice selected: 3
2025-04-26 10:40:28,559 - INFO - Selected product: SRX320
2025-04-26 10:40:31,352 - INFO - Raw release input received: '3'
2025-04-26 10:40:31,352 - INFO - Valid release choice selected: 24.2R1-S2
2025-04-26 10:40:31,352 - INFO - Selected release: 24.2R1-S2
2025-04-26 10:40:33,566 - INFO - User chose to read from file: n
2025-04-26 10:40:39,658 - INFO - Added host IP: 172.27.200.200
2025-04-26 10:40:40,294 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 10:40:40,294 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 10:40:46,774 - INFO - Received credentials - username: admin
2025-04-26 10:40:46,774 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 10:40:47,713 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:40:48,635 - INFO - Authentication (password) successful!
2025-04-26 10:40:48,704 - INFO - [host 172.27.200.200 session 0x7ff7f90afce0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:40:52,564 - INFO - [host 172.27.200.200 session 0x7ff7f90afce0] Received message from host
2025-04-26 10:40:52,565 - INFO - [host 172.27.200.200 session-id 3192] initialized: session-id=3192 | server_capabilities=<dict_keyiterator object at 0x7ff7e8d3a2a0>
2025-04-26 10:40:52,565 - INFO - Connected to 172.27.200.200
2025-04-26 10:40:52,565 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 10:40:52,565 - INFO - Probing device 172.27.200.200
2025-04-26 10:40:53,441 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:40:54,270 - INFO - Authentication (password) successful!
2025-04-26 10:40:54,325 - INFO - [host 172.27.200.200 session 0x7ff7e8cd0bf0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:40:58,158 - INFO - [host 172.27.200.200 session 0x7ff7e8cd0bf0] Received message from host
2025-04-26 10:40:58,158 - INFO - [host 172.27.200.200 session-id 3207] initialized: session-id=3207 | server_capabilities=<dict_keyiterator object at 0x7ff7e8d396c0>
2025-04-26 10:40:58,158 - INFO - [host 172.27.200.200 session-id 3207] Requesting 'ExecuteRpc'
2025-04-26 10:40:58,258 - INFO - [host 172.27.200.200 session-id 3207] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:cab5d707-2008-43e3-bd88-2ba61f5b73df"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 10:40:59,188 - INFO - [host 172.27.200.200 session-id 3207] Received message from host
2025-04-26 10:40:59,189 - INFO - [host 172.27.200.200 session-id 3207] Requesting 'CloseSession'
2025-04-26 10:40:59,288 - INFO - [host 172.27.200.200 session-id 3207] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:72e79ddf-dbb5-414e-a802-a790302f2bc0"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 10:40:59,301 - INFO - [host 172.27.200.200 session-id 3207] Received message from host
2025-04-26 10:40:59,302 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 10:41:00,098 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:41:00,819 - INFO - Authentication (password) successful!
2025-04-26 10:41:00,869 - INFO - [host 172.27.200.200 session 0x7ff7e974e840] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:41:04,708 - INFO - [host 172.27.200.200 session 0x7ff7e974e840] Received message from host
2025-04-26 10:41:04,708 - INFO - [host 172.27.200.200 session-id 3228] initialized: session-id=3228 | server_capabilities=<dict_keyiterator object at 0x7ff7e8d3ad90>
2025-04-26 10:41:04,709 - INFO - [host 172.27.200.200 session-id 3228] Requesting 'ExecuteRpc'
2025-04-26 10:41:04,809 - INFO - [host 172.27.200.200 session-id 3228] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:77241c65-1662-4e16-ac1b-4dd47fa61b32"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 10:41:05,737 - INFO - [host 172.27.200.200 session-id 3228] Received message from host
2025-04-26 10:41:05,738 - INFO - Current Junos version on 172.27.200.200: 23.4R2-S3.9
2025-04-26 10:41:05,738 - INFO - [host 172.27.200.200 session-id 3228] Requesting 'CloseSession'
2025-04-26 10:41:05,837 - INFO - [host 172.27.200.200 session-id 3228] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:1e34ef8a-4e60-4d7d-a051-bd1cd34735f4"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 10:41:05,848 - INFO - [host 172.27.200.200 session-id 3228] Received message from host
2025-04-26 10:41:06,758 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:41:07,476 - INFO - Authentication (password) successful!
2025-04-26 10:41:07,577 - INFO - [host 172.27.200.200 session 0x7ff7e8cfc890] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:41:11,429 - INFO - [host 172.27.200.200 session 0x7ff7e8cfc890] Received message from host
2025-04-26 10:41:11,429 - INFO - [host 172.27.200.200 session-id 3249] initialized: session-id=3249 | server_capabilities=<dict_keyiterator object at 0x7ff7e8ceda30>
2025-04-26 10:41:11,429 - INFO - [host 172.27.200.200 session-id 3249] Requesting 'ExecuteRpc'
2025-04-26 10:41:11,529 - INFO - [host 172.27.200.200 session-id 3249] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:3e1ddf4d-2d02-48b4-a521-00b9c0c99914"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 10:41:12,493 - INFO - [host 172.27.200.200 session-id 3249] Received message from host
2025-04-26 10:41:12,493 - INFO - Image /var/tmp/junos-srxsme-24.2R1-S2.5.tgz found on 172.27.200.200
2025-04-26 10:41:12,493 - INFO - [host 172.27.200.200 session-id 3249] Requesting 'CloseSession'
2025-04-26 10:41:12,593 - INFO - [host 172.27.200.200 session-id 3249] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:955c5891-846b-43d6-8e41-9808dc181a40"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 10:41:12,602 - INFO - [host 172.27.200.200 session-id 3249] Received message from host
2025-04-26 10:41:13,414 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:41:14,338 - INFO - Authentication (password) successful!
2025-04-26 10:41:14,390 - INFO - [host 172.27.200.200 session 0x7ff7e8cfe3f0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:41:18,431 - INFO - [host 172.27.200.200 session 0x7ff7e8cfe3f0] Received message from host
2025-04-26 10:41:18,431 - INFO - [host 172.27.200.200 session-id 3266] initialized: session-id=3266 | server_capabilities=<dict_keyiterator object at 0x7ff7e8d3aca0>
2025-04-26 10:41:18,431 - INFO - [host 172.27.200.200 session-id 3266] Requesting 'ExecuteRpc'
2025-04-26 10:41:18,532 - INFO - [host 172.27.200.200 session-id 3266] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:dc1da623-5a2f-465d-8278-80fde0bb140c"><command format="text">show system processes | match package</command></nc:rpc>]]>]]>'
2025-04-26 10:41:20,209 - INFO - [host 172.27.200.200 session-id 3266] Received message from host
2025-04-26 10:41:20,210 - INFO - [host 172.27.200.200 session-id 3266] Requesting 'CloseSession'
2025-04-26 10:41:20,310 - INFO - [host 172.27.200.200 session-id 3266] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:22b85b69-d00b-46a1-9fbe-6d15c55700f8"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 10:41:20,321 - INFO - [host 172.27.200.200 session-id 3266] Received message from host
2025-04-26 10:41:20,322 - ERROR - TypeError during software upgrade on 172.27.200.200: argument of type 'NoneType' is not iterable. Falling back to CLI method...
2025-04-26 10:41:20,322 - ERROR - CLI upgrade failed on 172.27.200.200: ConnectClosedError(172.27.200.200)
2025-04-26 10:41:20,322 - INFO - Disconnecting from 1 connections
2025-04-26 10:41:20,322 - INFO - Disconnected from 172.27.200.200
2025-04-26 10:41:20,322 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 10:41:20,322 - WARNING - Code upgrade process completed with failures
2025-04-26 10:50:58,725 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 10:51:01,176 - INFO - Raw input received: '4'
2025-04-26 10:51:01,176 - INFO - Valid choice selected: 4
2025-04-26 10:51:01,176 - INFO - Selected action: code_upgrade
2025-04-26 10:51:03,508 - INFO - Raw mode input received: '1'
2025-04-26 10:51:03,508 - INFO - Valid execution mode selected: 1
2025-04-26 10:51:03,508 - INFO - Executing action code_upgrade locally
2025-04-26 10:51:03,509 - INFO - Starting code_upgrade action
2025-04-26 10:51:03,510 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 10:51:04,745 - INFO - Raw vendor input received: '1'
2025-04-26 10:51:04,745 - INFO - Valid vendor choice selected: 1
2025-04-26 10:51:04,745 - INFO - Selected vendor: JUNIPER
2025-04-26 10:51:04,746 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 10:51:07,737 - INFO - Raw product input received: '3'
2025-04-26 10:51:07,737 - INFO - Valid product choice selected: 3
2025-04-26 10:51:07,737 - INFO - Selected product: SRX320
2025-04-26 10:51:22,097 - INFO - Raw release input received: '3'
2025-04-26 10:51:22,097 - INFO - Valid release choice selected: 24.2R1-S2
2025-04-26 10:51:22,097 - INFO - Selected release: 24.2R1-S2
2025-04-26 10:51:24,424 - INFO - User chose to read from file: n
2025-04-26 10:51:29,986 - INFO - Added host IP: 172.27.200.200
2025-04-26 10:51:31,388 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 10:51:31,388 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 10:51:35,561 - INFO - Received credentials - username: admin
2025-04-26 10:51:35,561 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 10:51:36,355 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:51:37,072 - INFO - Authentication (password) successful!
2025-04-26 10:51:37,127 - INFO - [host 172.27.200.200 session 0x7f81e2eaef00] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:51:40,965 - INFO - [host 172.27.200.200 session 0x7f81e2eaef00] Received message from host
2025-04-26 10:51:40,965 - INFO - [host 172.27.200.200 session-id 3701] initialized: session-id=3701 | server_capabilities=<dict_keyiterator object at 0x7f81d2b01350>
2025-04-26 10:51:40,966 - INFO - Connected to 172.27.200.200
2025-04-26 10:51:40,966 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 10:51:41,678 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 10:51:42,469 - INFO - Authentication (password) successful!
2025-04-26 10:51:42,537 - INFO - [host 172.27.200.200 session 0x7f81d2ac48c0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 10:51:46,496 - INFO - [host 172.27.200.200 session 0x7f81d2ac48c0] Received message from host
2025-04-26 10:51:46,497 - INFO - [host 172.27.200.200 session-id 3713] initialized: session-id=3713 | server_capabilities=<dict_keyiterator object at 0x7f81d2b00900>
2025-04-26 10:51:46,497 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:46,597 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:236b2c90-c718-4e00-8114-1e5c31bdec91"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 10:51:47,620 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:47,621 - INFO - Image /var/tmp/junos-srxsme-24.2R1-S2.5.tgz found on 172.27.200.200
2025-04-26 10:51:47,621 - INFO - Checking current version on 172.27.200.200
2025-04-26 10:51:47,621 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:47,721 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:71b65136-baa1-4190-ae9a-d1b80c201eb2"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 10:51:48,647 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:48,648 - INFO - Current Junos version on 172.27.200.200: 23.4R2-S3.9
2025-04-26 10:51:48,648 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:48,747 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:d2af7670-7c9e-48b3-810c-968ba6643d11"><command>show version invoke-on all-routing-engines</command></nc:rpc>]]>]]>'
2025-04-26 10:51:48,863 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:48,863 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:48,963 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:4ea051d4-84ce-4e3d-9b89-a387d56f445c"><file-show><filename>/usr/share/cevo/cevo_version</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 10:51:48,992 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:48,993 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:49,092 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:9b7eb7db-774d-4c16-9b8c-cd3194151d8f"><get-interface-information><routing-instance>__juniper_private1__</routing-instance><terse/></get-interface-information></nc:rpc>]]>]]>'
2025-04-26 10:51:50,263 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:50,264 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:50,364 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:a13022fa-8f5f-49a7-bf0e-91f3e4e3a58b"><file-show><filename>/etc/hosts.junos</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 10:51:53,138 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:53,145 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:53,238 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:814bfe3d-ea45-4972-b923-4fa926b31009"><get-chassis-cluster-status/></nc:rpc>]]>]]>'
2025-04-26 10:51:53,272 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:53,273 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:53,372 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:36d1c67d-e020-43cc-a0b5-de89c7dc2e80"><get-route-engine-information/></nc:rpc>]]>]]>'
2025-04-26 10:51:53,409 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:53,410 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:53,510 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:17370a64-a186-46b0-ba43-5cc4fe870f30"><get-virtual-chassis-information/></nc:rpc>]]>]]>'
2025-04-26 10:51:53,524 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:53,525 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:53,625 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:870ea3a8-05ae-40db-b6f9-cb88914e1897"><request-package-checks-pending-install/></nc:rpc>]]>]]>'
2025-04-26 10:51:53,640 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 10:51:53,641 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 10:51:53,741 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:b6aae06f-626c-4c41-975b-c42c829b9b09"><request-package-validate><package-name>/var/tmp/junos-srxsme-24.2R1-S2.5.tgz</package-name></request-package-validate></nc:rpc>]]>]]>'
2025-04-26 11:00:59,438 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 11:00:59,439 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 11:00:59,538 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:ef22e1a2-1820-4834-8864-24f1dd7871a8"><request-package-add><no-validate/><package-name>/var/tmp/junos-srxsme-24.2R1-S2.5.tgz</package-name></request-package-add></nc:rpc>]]>]]>'
2025-04-26 11:05:54,183 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 11:05:54,184 - INFO - [host 172.27.200.200 session-id 3713] Requesting 'ExecuteRpc'
2025-04-26 11:05:54,284 - INFO - [host 172.27.200.200 session-id 3713] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:3c7fc144-26cd-4d09-88b2-94485168a28a"><request-reboot><in>0</in></request-reboot></nc:rpc>]]>]]>'
2025-04-26 11:05:54,757 - INFO - [host 172.27.200.200 session-id 3713] Received message from host
2025-04-26 11:05:54,757 - INFO - Reboot initiated on 172.27.200.200
2025-04-26 11:07:54,758 - ERROR - Error upgrading 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 11:07:54,758 - INFO - Disconnecting from 1 connections
2025-04-26 11:07:54,758 - INFO - Disconnected from 172.27.200.200
2025-04-26 11:07:54,758 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 11:07:54,758 - WARNING - Code upgrade process completed with failures
2025-04-26 12:09:10,756 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 12:09:12,823 - INFO - Raw input received: '4'
2025-04-26 12:09:12,823 - INFO - Valid choice selected: 4
2025-04-26 12:09:12,823 - INFO - Selected action: code_upgrade
2025-04-26 12:09:14,861 - INFO - Raw mode input received: '1'
2025-04-26 12:09:14,861 - INFO - Valid execution mode selected: 1
2025-04-26 12:09:14,861 - INFO - Executing action code_upgrade locally
2025-04-26 12:09:14,861 - INFO - Starting code_upgrade action
2025-04-26 12:09:14,863 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 12:09:16,484 - INFO - Raw vendor input received: '1'
2025-04-26 12:09:16,484 - INFO - Valid vendor choice selected: 1
2025-04-26 12:09:16,484 - INFO - Selected vendor: JUNIPER
2025-04-26 12:09:16,484 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 12:09:19,817 - INFO - Raw product input received: '3'
2025-04-26 12:09:19,817 - INFO - Valid product choice selected: 3
2025-04-26 12:09:19,817 - INFO - Selected product: SRX320
2025-04-26 12:09:22,854 - INFO - Raw release input received: '3'
2025-04-26 12:09:22,855 - INFO - Valid release choice selected: 24.2R1-S2
2025-04-26 12:09:22,855 - INFO - Selected release: 24.2R1-S2
2025-04-26 12:09:26,242 - INFO - User chose to read from file: n
2025-04-26 12:09:33,059 - INFO - Added host IP: 172.27.200.200
2025-04-26 12:09:34,921 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 12:09:34,921 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 12:09:41,321 - INFO - Received credentials - username: admin
2025-04-26 12:09:41,321 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 12:09:43,169 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 12:09:43,879 - INFO - Authentication (password) successful!
2025-04-26 12:09:43,943 - INFO - [host 172.27.200.200 session 0x7f2433bb5d90] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 12:09:47,880 - INFO - [host 172.27.200.200 session 0x7f2433bb5d90] Received message from host
2025-04-26 12:09:47,880 - INFO - [host 172.27.200.200 session-id 3302] initialized: session-id=3302 | server_capabilities=<dict_keyiterator object at 0x7f2433c05620>
2025-04-26 12:09:47,880 - INFO - Connected to 172.27.200.200
2025-04-26 12:09:47,880 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 12:09:48,699 - INFO - Connected (version 2.0, client OpenSSH_7.5)
2025-04-26 12:09:49,410 - INFO - Authentication (password) successful!
2025-04-26 12:09:49,466 - INFO - [host 172.27.200.200 session 0x7f2433e6e1b0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 12:09:53,625 - INFO - [host 172.27.200.200 session 0x7f2433e6e1b0] Received message from host
2025-04-26 12:09:53,625 - INFO - [host 172.27.200.200 session-id 3314] initialized: session-id=3314 | server_capabilities=<dict_keyiterator object at 0x7f2433c04b80>
2025-04-26 12:09:53,625 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:53,725 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:28cbeeec-561e-4a22-a0e4-44155a43fed1"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 12:09:54,641 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:09:54,641 - INFO - Image /var/tmp/junos-srxsme-24.2R1-S2.5.tgz found on 172.27.200.200
2025-04-26 12:09:54,641 - INFO - Checking current version on 172.27.200.200
2025-04-26 12:09:54,642 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:54,741 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:76db5ca1-1ac5-4d0d-8bf2-6f886533eaf3"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 12:09:55,663 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:09:55,663 - INFO - Current Junos version on 172.27.200.200: 23.4R2-S3.9
2025-04-26 12:09:55,663 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:55,763 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:50e1452a-6026-40c1-abdd-4d19b4f4c423"><command>show version invoke-on all-routing-engines</command></nc:rpc>]]>]]>'
2025-04-26 12:09:55,884 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:09:55,885 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:55,984 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:7c3d59cc-2c6f-48b3-9b51-746e368302c5"><file-show><filename>/usr/share/cevo/cevo_version</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 12:09:56,124 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:09:56,125 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:56,225 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:f41f5a57-a832-4485-a5fa-ee85f1cf7409"><get-interface-information><routing-instance>__juniper_private1__</routing-instance><terse/></get-interface-information></nc:rpc>]]>]]>'
2025-04-26 12:09:57,391 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:09:57,392 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:09:57,492 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:642bdb6f-1fda-496b-b72c-9a77bdd6c3f0"><file-show><filename>/etc/hosts.junos</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 12:10:00,166 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:10:00,173 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:10:00,266 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:7f50de23-ba70-4171-9674-9eaed08c81a4"><get-chassis-cluster-status/></nc:rpc>]]>]]>'
2025-04-26 12:10:00,302 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:10:00,302 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:10:00,402 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:c8b33da6-882a-4bb8-9b79-35387abd584d"><get-route-engine-information/></nc:rpc>]]>]]>'
2025-04-26 12:10:00,437 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:10:00,437 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:10:00,537 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:2b923d94-7198-4daf-9c15-598fee5fa3b7"><get-virtual-chassis-information/></nc:rpc>]]>]]>'
2025-04-26 12:10:00,603 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:10:00,603 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:10:00,703 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:984cca31-1b6c-4add-8fff-99ac3e3716f4"><request-package-checks-pending-install/></nc:rpc>]]>]]>'
2025-04-26 12:10:00,721 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:10:00,721 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:10:00,821 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:76ebfa68-3d47-46a2-84fd-ea35e9f6f1f6"><request-package-validate><package-name>/var/tmp/junos-srxsme-24.2R1-S2.5.tgz</package-name></request-package-validate></nc:rpc>]]>]]>'
2025-04-26 12:19:09,047 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:19:09,048 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:19:09,148 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:f937550f-c505-4406-9908-04f3a3a696c1"><request-package-add><no-validate/><package-name>/var/tmp/junos-srxsme-24.2R1-S2.5.tgz</package-name></request-package-add></nc:rpc>]]>]]>'
2025-04-26 12:25:04,284 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:25:04,285 - INFO - [host 172.27.200.200 session-id 3314] Requesting 'ExecuteRpc'
2025-04-26 12:25:04,385 - INFO - [host 172.27.200.200 session-id 3314] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:46b17758-b0b0-4442-b70d-3c9098a57f60"><request-reboot><in>0</in></request-reboot></nc:rpc>]]>]]>'
2025-04-26 12:25:04,791 - INFO - [host 172.27.200.200 session-id 3314] Received message from host
2025-04-26 12:25:04,792 - INFO - Reboot initiated on 172.27.200.200
2025-04-26 12:26:04,792 - INFO - Probing 172.27.200.200 for availability post-reboot
2025-04-26 12:34:05,188 - INFO - 172.27.200.200 is reachable
2025-04-26 12:34:05,188 - ERROR - Failed to verify version on 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 12:34:05,188 - INFO - Disconnecting from 1 connections
2025-04-26 12:34:05,188 - INFO - Disconnected from 172.27.200.200
2025-04-26 12:34:05,188 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 12:34:05,188 - WARNING - Code upgrade process completed with failures
2025-04-26 12:48:48,114 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 12:48:50,547 - INFO - Raw input received: '4'
2025-04-26 12:48:50,547 - INFO - Valid choice selected: 4
2025-04-26 12:48:50,547 - INFO - Selected action: code_upgrade
2025-04-26 12:48:54,254 - INFO - Raw mode input received: '1'
2025-04-26 12:48:54,254 - INFO - Valid execution mode selected: 1
2025-04-26 12:48:54,254 - INFO - Executing action code_upgrade locally
2025-04-26 12:48:54,254 - INFO - Starting code_upgrade action
2025-04-26 12:48:54,256 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 12:48:55,756 - INFO - Raw vendor input received: '1'
2025-04-26 12:48:55,756 - INFO - Valid vendor choice selected: 1
2025-04-26 12:48:55,756 - INFO - Selected vendor: JUNIPER
2025-04-26 12:48:55,756 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 12:49:01,474 - INFO - Raw product input received: '3'
2025-04-26 12:49:01,474 - INFO - Valid product choice selected: 3
2025-04-26 12:49:01,474 - INFO - Selected product: SRX320
2025-04-26 12:49:04,624 - INFO - Raw release input received: '1'
2025-04-26 12:49:04,624 - INFO - Valid release choice selected: 23.4R2-S3
2025-04-26 12:49:04,624 - INFO - Selected release: 23.4R2-S3
2025-04-26 12:49:06,533 - INFO - User chose to read from file: n
2025-04-26 12:49:11,627 - INFO - Added host IP: 172.27.200.200
2025-04-26 12:49:13,040 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 12:49:13,040 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 12:49:18,640 - INFO - Received credentials - username: admin
2025-04-26 12:49:18,640 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 12:49:19,405 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 12:49:20,429 - INFO - Authentication (password) successful!
2025-04-26 12:49:20,497 - INFO - [host 172.27.200.200 session 0x7ff630c2ce60] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 12:49:24,526 - INFO - [host 172.27.200.200 session 0x7ff630c2ce60] Received message from host
2025-04-26 12:49:24,526 - INFO - [host 172.27.200.200 session-id 3111] initialized: session-id=3111 | server_capabilities=<dict_keyiterator object at 0x7ff630c7d760>
2025-04-26 12:49:24,526 - INFO - Connected to 172.27.200.200
2025-04-26 12:49:24,526 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 12:49:25,265 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 12:49:26,362 - INFO - Authentication (password) successful!
2025-04-26 12:49:26,427 - INFO - [host 172.27.200.200 session 0x7ff630c60950] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 12:49:30,576 - INFO - [host 172.27.200.200 session 0x7ff630c60950] Received message from host
2025-04-26 12:49:30,576 - INFO - [host 172.27.200.200 session-id 3123] initialized: session-id=3123 | server_capabilities=<dict_keyiterator object at 0x7ff630c7db70>
2025-04-26 12:49:30,576 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:30,676 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:e8b15ab5-7e7c-4d1c-a6ad-732f34879361"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 12:49:31,796 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:31,797 - INFO - Image /var/tmp/junos-srxsme-23.4R2-S3.9.tgz found on 172.27.200.200
2025-04-26 12:49:31,797 - INFO - Checking current version on 172.27.200.200
2025-04-26 12:49:31,797 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:31,897 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:8725d5ee-d4b7-4bb6-83f0-c9f4b54cc939"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 12:49:32,820 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:32,820 - INFO - Current Junos version on 172.27.200.200: 24.2R1-S2.5
2025-04-26 12:49:32,820 - WARNING - Selected version 23.4R2-S3 is older than current 24.2R1-S2.5 on 172.27.200.200
2025-04-26 12:49:36,260 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:36,334 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:e7d086af-928c-4909-8320-f9a90b4904e6"><command>show version invoke-on all-routing-engines</command></nc:rpc>]]>]]>'
2025-04-26 12:49:36,451 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:36,452 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:36,551 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:af532727-7c47-44b4-9f6b-36a8d659d12e"><file-show><filename>/usr/share/cevo/cevo_version</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 12:49:36,630 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:36,631 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:36,731 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:a7c91289-8d80-4222-beeb-11e4bc7a8318"><get-interface-information><routing-instance>__juniper_private1__</routing-instance><terse/></get-interface-information></nc:rpc>]]>]]>'
2025-04-26 12:49:37,922 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:37,923 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:38,023 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:715baf74-56c5-4d5c-ae3c-b129f389a503"><file-show><filename>/etc/hosts.junos</filename></file-show></nc:rpc>]]>]]>'
2025-04-26 12:49:41,348 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:41,356 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:41,449 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:c2cd4ca7-0c67-4d6f-a728-ee2c8a1ab859"><get-chassis-cluster-status/></nc:rpc>]]>]]>'
2025-04-26 12:49:41,472 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:41,472 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:41,572 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:425b5fbb-368a-46b2-b9f6-8aa4b0a169ca"><get-route-engine-information/></nc:rpc>]]>]]>'
2025-04-26 12:49:41,671 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:41,672 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:41,772 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:247349a3-747a-4541-9556-0c0bfe5687f0"><get-virtual-chassis-information/></nc:rpc>]]>]]>'
2025-04-26 12:49:41,788 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:41,789 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:41,889 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:e99f09e8-8cb4-40a7-97e2-c2df4da42392"><request-package-checks-pending-install/></nc:rpc>]]>]]>'
2025-04-26 12:49:41,909 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:49:41,910 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:49:42,010 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:13e1aa06-4794-45e5-8147-2a0004c7c83c"><request-package-validate><package-name>/var/tmp/junos-srxsme-23.4R2-S3.9.tgz</package-name></request-package-validate></nc:rpc>]]>]]>'
2025-04-26 12:59:00,680 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 12:59:00,681 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 12:59:00,781 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:3612117a-6e10-4654-a268-b163d6e525d7"><request-package-add><no-validate/><package-name>/var/tmp/junos-srxsme-23.4R2-S3.9.tgz</package-name></request-package-add></nc:rpc>]]>]]>'
2025-04-26 13:04:41,112 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 13:04:41,112 - INFO - [host 172.27.200.200 session-id 3123] Requesting 'ExecuteRpc'
2025-04-26 13:04:41,212 - INFO - [host 172.27.200.200 session-id 3123] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:a388a98b-7131-46fa-a146-00e0d46d85f9"><request-reboot><in>0</in></request-reboot></nc:rpc>]]>]]>'
2025-04-26 13:04:41,553 - INFO - [host 172.27.200.200 session-id 3123] Received message from host
2025-04-26 13:04:41,554 - INFO - Reboot initiated on 172.27.200.200
2025-04-26 13:05:41,554 - INFO - Probing 172.27.200.200 for availability post-reboot
2025-04-26 13:13:55,411 - INFO - 172.27.200.200 is reachable
2025-04-26 13:13:55,411 - INFO - Verifying version on 172.27.200.200
2025-04-26 13:13:55,411 - WARNING - Version verification attempt 1/5 failed for 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 13:14:55,412 - WARNING - Version verification attempt 2/5 failed for 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 13:15:55,412 - WARNING - Version verification attempt 3/5 failed for 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 13:16:55,413 - WARNING - Version verification attempt 4/5 failed for 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 13:17:55,413 - WARNING - Version verification attempt 5/5 failed for 172.27.200.200: 'NoneType' object has no attribute 'timeout'
2025-04-26 13:17:55,413 - ERROR - Failed to verify version on 172.27.200.200 after 5 attempts
2025-04-26 13:17:55,414 - ERROR - Version verification failed on 172.27.200.200: Failed to connect after retries
2025-04-26 13:17:55,414 - INFO - Disconnecting from 1 connections
2025-04-26 13:17:55,414 - INFO - Disconnected from 172.27.200.200
2025-04-26 13:17:55,414 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 13:17:55,414 - WARNING - Code upgrade process completed with failures
