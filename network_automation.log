2025-04-26 04:50:57,200 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 04:51:00,033 - INFO - Raw input received: '4'
2025-04-26 04:51:00,033 - INFO - Valid choice selected: 4
2025-04-26 04:51:00,033 - INFO - Selected action: code_upgrade
2025-04-26 04:51:01,524 - INFO - Raw mode input received: '1'
2025-04-26 04:51:01,524 - INFO - Valid execution mode selected: 1
2025-04-26 04:51:01,524 - INFO - Executing action code_upgrade locally
2025-04-26 04:51:01,524 - INFO - Starting code_upgrade action
2025-04-26 04:51:01,526 - INFO - Loaded vendors: ['JUNIPER']
2025-04-26 04:51:03,380 - INFO - Raw vendor input received: '1'
2025-04-26 04:51:03,380 - INFO - Valid vendor choice selected: 1
2025-04-26 04:51:03,380 - INFO - Selected vendor: JUNIPER
2025-04-26 04:51:03,380 - INFO - Loaded products: ['EX4600', 'EX4400', 'SRX320', 'SRX210H', 'MX-SERIES', 'ACX']
2025-04-26 04:51:06,975 - INFO - Raw product input received: '3'
2025-04-26 04:51:06,975 - INFO - Valid product choice selected: 3
2025-04-26 04:51:06,975 - INFO - Selected product: SRX320
2025-04-26 04:51:09,482 - INFO - Raw release input received: '3'
2025-04-26 04:51:09,482 - INFO - Valid release choice selected: 24.2R1-S2
2025-04-26 04:51:09,482 - INFO - Selected release: 24.2R1-S2
2025-04-26 04:51:12,066 - INFO - User chose to read from file: n
2025-04-26 04:51:18,125 - INFO - Added host IP: 172.27.200.200
2025-04-26 04:51:20,338 - INFO - Saved hosts to /home/nikos/github/ngeran/vector-py/data/upgrade_hosts.yml: ['172.27.200.200']
2025-04-26 04:51:20,338 - INFO - Host IPs: ['172.27.200.200']
2025-04-26 04:51:27,915 - INFO - Received credentials - username: admin
2025-04-26 04:51:27,916 - INFO - Connecting to host 172.27.200.200 with username admin
2025-04-26 04:51:29,086 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 04:51:29,995 - INFO - Authentication (password) successful!
2025-04-26 04:51:30,251 - INFO - [host 172.27.200.200 session 0x7f849fa8f710] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 04:51:34,352 - INFO - [host 172.27.200.200 session 0x7f849fa8f710] Received message from host
2025-04-26 04:51:34,352 - INFO - [host 172.27.200.200 session-id 21499] initialized: session-id=21499 | server_capabilities=<dict_keyiterator object at 0x7f849f822480>
2025-04-26 04:51:34,352 - INFO - Connected to 172.27.200.200
2025-04-26 04:51:34,352 - INFO - Connected to devices: ['172.27.200.200']
2025-04-26 04:51:34,352 - INFO - Probing device 172.27.200.200
2025-04-26 04:51:35,005 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 04:51:35,987 - INFO - Authentication (password) successful!
2025-04-26 04:51:36,207 - INFO - [host 172.27.200.200 session 0x7f849fef6030] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 04:51:40,385 - INFO - [host 172.27.200.200 session 0x7f849fef6030] Received message from host
2025-04-26 04:51:40,385 - INFO - [host 172.27.200.200 session-id 21511] initialized: session-id=21511 | server_capabilities=<dict_keyiterator object at 0x7f849f821940>
2025-04-26 04:51:40,386 - INFO - [host 172.27.200.200 session-id 21511] Requesting 'ExecuteRpc'
2025-04-26 04:51:40,486 - INFO - [host 172.27.200.200 session-id 21511] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:02de7c0f-8dd0-486e-ab96-048fd3e50ef9"><command format="text">show version</command></nc:rpc>]]>]]>'
2025-04-26 04:51:41,472 - INFO - [host 172.27.200.200 session-id 21511] Received message from host
2025-04-26 04:51:41,472 - INFO - [host 172.27.200.200 session-id 21511] Requesting 'CloseSession'
2025-04-26 04:51:41,572 - INFO - [host 172.27.200.200 session-id 21511] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:339886be-299e-4559-b136-20c89df8e5c0"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 04:51:41,716 - INFO - [host 172.27.200.200 session-id 21511] Received message from host
2025-04-26 04:51:41,717 - INFO - Device 172.27.200.200 is reachable and responsive
2025-04-26 04:51:42,474 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 04:51:43,818 - INFO - Authentication (password) successful!
2025-04-26 04:51:43,886 - INFO - [host 172.27.200.200 session 0x7f849fe1c440] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 04:51:48,004 - INFO - [host 172.27.200.200 session 0x7f849fe1c440] Received message from host
2025-04-26 04:51:48,004 - INFO - [host 172.27.200.200 session-id 21535] initialized: session-id=21535 | server_capabilities=<dict_keyiterator object at 0x7f849f848a90>
2025-04-26 04:51:48,004 - INFO - [host 172.27.200.200 session-id 21535] Requesting 'ExecuteRpc'
2025-04-26 04:51:48,105 - INFO - [host 172.27.200.200 session-id 21535] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:71d789b2-6ae6-43e1-a519-fb1a8d7c7af2"><command format="text">file list /var/tmp/</command></nc:rpc>]]>]]>'
2025-04-26 04:51:49,438 - INFO - [host 172.27.200.200 session-id 21535] Received message from host
2025-04-26 04:51:49,438 - INFO - Image /var/tmp/junos-srxsme-24.2R1-S2.5.tgz found on 172.27.200.200
2025-04-26 04:51:49,438 - INFO - [host 172.27.200.200 session-id 21535] Requesting 'CloseSession'
2025-04-26 04:51:49,538 - INFO - [host 172.27.200.200 session-id 21535] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:735cf360-a532-45eb-8c44-28c6c88f47f2"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 04:51:49,551 - INFO - [host 172.27.200.200 session-id 21535] Received message from host
2025-04-26 04:51:50,358 - INFO - Connected (version 2.0, client OpenSSH_7.9)
2025-04-26 04:51:51,429 - INFO - Authentication (password) successful!
2025-04-26 04:51:51,667 - INFO - [host 172.27.200.200 session 0x7f849fe88fe0] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:hello xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:with-defaults:1.0</nc:capability></nc:capabilities></nc:hello>]]>]]>'
2025-04-26 04:51:55,920 - INFO - [host 172.27.200.200 session 0x7f849fe88fe0] Received message from host
2025-04-26 04:51:55,921 - INFO - [host 172.27.200.200 session-id 21549] initialized: session-id=21549 | server_capabilities=<dict_keyiterator object at 0x7f849f849bc0>
2025-04-26 04:51:55,921 - INFO - [host 172.27.200.200 session-id 21549] Requesting 'ExecuteRpc'
2025-04-26 04:51:56,021 - INFO - [host 172.27.200.200 session-id 21549] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:498a0cd0-e77a-47da-8675-7dc141f7abc8"><command format="text">show system storage</command></nc:rpc>]]>]]>'
2025-04-26 04:51:57,240 - INFO - [host 172.27.200.200 session-id 21549] Received message from host
2025-04-26 04:51:57,240 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,240 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,240 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,240 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,241 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,241 - WARNING - Could not parse avail value '0B' for 172.27.200.200: could not convert string to float: '0B'
2025-04-26 04:51:57,241 - ERROR - Could not determine disk space for any relevant filesystems on 172.27.200.200
2025-04-26 04:51:57,241 - INFO - [host 172.27.200.200 session-id 21549] Requesting 'CloseSession'
2025-04-26 04:51:57,340 - INFO - [host 172.27.200.200 session-id 21549] Sending:
b'<?xml version="1.0" encoding="UTF-8"?><nc:rpc xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="urn:uuid:7bfca31a-edb5-4992-94ed-8dbf5e115e43"><nc:close-session/></nc:rpc>]]>]]>'
2025-04-26 04:51:57,377 - INFO - [host 172.27.200.200 session-id 21549] Received message from host
2025-04-26 04:51:57,377 - ERROR - Skipping upgrade for 172.27.200.200 due to insufficient disk space
2025-04-26 04:51:57,377 - INFO - Disconnecting from 1 connections
2025-04-26 04:51:57,377 - INFO - Disconnected from 172.27.200.200
2025-04-26 04:51:57,377 - INFO - Upgrade summary: 0 successful, 1 failed
2025-04-26 04:51:57,377 - WARNING - Code upgrade process completed with failures
2025-04-26 04:59:37,847 - INFO - sys.path: ['/home/nikos/github/ngeran/vector-py', '/home/nikos/github/ngeran/vector-py/network-automation-launcher', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python312.zip', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/lib-dynload', '/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/lib/python3.12/site-packages', '/nix/store/j5xprw4y675sh3rrgnrbdwm3rpgl0lw2-python3-3.12.9-env/lib/python3.12/site-packages']
2025-04-26 04:59:37,951 - ERROR - Import error: cannot import name 'code_upgrade' from 'scripts.code_upgrade' (/home/nikos/github/ngeran/vector-py/scripts/code_upgrade.py)
